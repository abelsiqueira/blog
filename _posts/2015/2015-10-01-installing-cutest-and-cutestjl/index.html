<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/blog/libs/highlight/github.min.css"> <link href="/blog/css/bootstrap.min.css" rel=stylesheet  crossorigin=anonymous > <link rel=icon  href="/blog/images/logo.png"> <link rel=stylesheet  href="/blog/css/code-katex.css"> <link rel=stylesheet  href="/blog/css/custom.css"> <link rel=stylesheet  href="/blog/css/dark-mode.css"> <link rel=preconnect  href="https://fonts.gstatic.com"> <link href="https://fonts.googleapis.com/css2?family=Cinzel&family=Montserrat&display=swap" rel=stylesheet > <title>Installing CUTEst and CUTEst.jl</title> <meta property="og:title" content="Abel Soares Siqueira"> <meta name="twitter:title" content="Abel Soares Siqueira"> <meta property="og:description" content="Installing CUTEst and CUTEst.jl"> <meta name="twitter:description" content="Installing CUTEst and CUTEst.jl"> <meta property="og:image" content="https://abelsiqueira.github.io/images/abel-banner.jpg"> <meta name="twitter:image" content="https://abelsiqueira.github.io/images/abel-banner.jpg"> <meta property="og:url" content=abelsiqueira.github.io > <meta name="twitter:card" content=summary_large_image > <header> <nav class="navbar navbar-expand-lg"> <div class=container-fluid > <a class="navbar-brand text-end" href="/blog/"></a> <button class=navbar-toggler  type=button  data-bs-toggle=collapse  data-bs-target="#navbarSupportedContent" aria-controls=navbarSupportedContent  aria-expanded=false  aria-label="Toggle navigation"> <span class=navbar-toggler-icon ></span> </button> <div class="collapse navbar-collapse" id=navbarSupportedContent > <ul class="navbar-nav ms-auto mb-2 mb-lg-0"> <li class=nav-item ><a class=nav-link  href="/blog/">Home</a> <li class=nav-item ><a class=nav-link  href="/blog/blog/">Blog</a> <li class=nav-item ><a class=nav-link  href="/blog/julia/">Julia</a> <li class=nav-item ><a class=nav-link  href="/blog/research/">Research</a> <li class=nav-item ><a class=nav-link  href="/blog/ufpr/">UFPR</a> </ul> <div class="dark-switch form-check form-switch"> <input type=checkbox  class=form-check-input  id=darkSwitch  /> <label class=custom-control-label  for=darkSwitch >Dark Mode</label> </div> <script src="/blog/libs/dark-mode-switch.min.js"></script> </div> </div> </nav> </header> <div class=container-fluid > <div class="container main-text"> <div class=franklin-content ><h1 id=installing_cutest_and_cutestjl ><a href="#installing_cutest_and_cutestjl" class=header-anchor >Installing CUTEst and CUTEst.jl</a></h1> <p>This post will tell you how to install CUTEst using a different tool that makes it much easier. Also, I&#39;ll install CUTEst.jl, the CUTEst interface for Julia.</p> <p><strong>Edit:</strong> <em>Now, CUTEst.jl install CUTEst by itself. Check <a href="https://abelsiqueira.github.ioblognlpmodelsjl-cutestjl-and-other-nonlinear-optimization-packages-on-julia/">this post</a>. Also, for Linux, I&#39;ve created <a href="https://github.com/abelsiqueira/linux-cutest">this CUTEst installer</a>, which should be easier to use. February, 11, 2017</em>.</p> <p><strong>Edit:</strong> <em>Some corrections were made on February, 15, 2016</em>.</p> <p><strong>Edit:</strong> <em>Some corrections were made on November, 11, 2015</em>.</p> <p>By now you probably know <a href="http://ccpforge.cse.rl.ac.uk/gf/project/cutest/wiki">CUTEst</a>, the repository for testing and comparing nonlinear programming algorithms. It&#39;s widely used in the community for some time &#40;considering CUTE and CUTEr, the previous versions&#41;. If not, this is a good change to test it, using <a href="http://www.julialang.org">Julia</a> to play around. This is a not a post to convince you to use Julia, but I have to say that it is much easier to use CUTEst on Julia than on MatLab. So, if you are starting on it, I suggest you take a look.</p> <p>We will use Homebrew to install CUTEst, for two reasons:</p> <ul> <li><p>It&#39;s much easier &#40;when you learn it&#41;</p> <li><p>Julia requires shared libraries, that the original installation did not</p> </ul> <p>provide.</p> <p>Homebrew is a kind of package manager &#40;such as apt-get, pip, etc.&#41;. For linux, there are many things that we don&#39;t need from Homebrew, because you normally already have a package manager. However, Homebrew is widely used by OSX users, so it has a lot of packages. The linux version is <a href="https://github.com/Homebrew/linuxbrew">Linuxbrew</a>.</p> <p>The installation is quite simple:</p> <ul> <li><p>Install brew</p> <li><p>Install CUTEst</p> <li><p>Install CUTEst.jl</p> </ul> <p>I just made these steps and record my terminal, so you can check <a href="https://asciinema.org/a/27127">Asciinema</a>, or the embedded version on the bottom of the page. Be warned, though, that I was &quot;cold running&quot; them, so some parts are very slow.</p> <p>To install brew, I recommend you check the page. For the impatient,</p> <pre><code class="julia hljs">ruby -e <span class=hljs-string >&quot;<span class=hljs-subst >$(curl -fsSL https://raw.githubusercontent.com/Homebrew/linuxbrew/go/install)</span>&quot;</span>
echo &#x27;<span class=hljs-keyword >export</span> PATH=<span class=hljs-string >&quot;<span class=hljs-variable >$HOME</span>/.linuxbrew/bin:<span class=hljs-variable >$PATH</span>&quot;</span>&#x27; &gt;&gt; $HOME/.bashrc
source $HOME/.bashrc
sudo apt-get install build-essential subversion
brew doctor</code></pre> <p>To install CUTEst, read the <a href="https://github.com/optimizers/homebrew-cutest">tap cutest</a>. Again, for the impatient</p> <pre><code class="julia hljs">brew tap optimizers/cutest
brew install cutest
brew install mastsif
<span class=hljs-keyword >for</span> f <span class=hljs-keyword >in</span> archdefs mastsif sifdecode cutest; <span class=hljs-keyword >do</span> \
  echo <span class=hljs-string >&quot;source <span class=hljs-subst >$(brew --prefix $f)</span>/<span class=hljs-variable >$f</span>.bashrc&quot;</span> &gt;&gt; \
  $HOME/.bashrc; \
done
echo &#x27;<span class=hljs-keyword >export</span> LD_LIBRARY_PATH=<span class=hljs-string >&quot;<span class=hljs-variable >$HOME</span>/.linuxbrew/lib:<span class=hljs-variable >$LD_LIBRARY_PATH</span>&quot;</span>&#x27; &gt;&gt; $HOME/.bashrc
source $HOME/.bashrc</code></pre> <p>This should get CUTEst installed. Notice the <code>LD_LIBRARY_PATH</code> variable, which points to where the CUTEst library will be.</p> <p>Test it with</p> <pre><code class="julia hljs">brew test sifdecode
brew test cutest</code></pre> <p>That&#39;s it. You have CUTEst installed to use with Fortran or C. A can&#39;t provide a simple example, because they aren&#39;t simple &#40;enough&#41;. I&#39;ll now go to Julia, and I recommend you try it.</p> <p>To install Julia, go to their page, then downloads, then download the static version of the stable release &#40;or do what you want, I&#39;m not your boss&#41;. Then, in julia, to install <a href="https://github.com/abelsiqueira/CUTEst.jl">CUTEst.jl</a>, issue the commands</p> <pre><code class="julia hljs">Pkg.clone(<span class=hljs-string >&quot;https://github.com/abelsiqueira/CUTEst.jl&quot;</span>)
Pkg.checkout(<span class=hljs-string >&quot;CUTEst&quot;</span>, <span class=hljs-string >&quot;fix/issue4&quot;</span>)</code></pre> <p>If nothing goes wrong, then you can play around. For instance, to open problem HS32 and get the objective function value at point &#40;2,3&#41;, we do</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> CUTEst
nlp = CUTEstModel(<span class=hljs-string >&quot;HS32&quot;</span>)
f = obj(nlp, [<span class=hljs-number >2.0</span>;<span class=hljs-number >3.0</span>])</code></pre> <p>If you&#39;re familiar with CUTEst, you can use the classic functions <code>cfn</code> and <code>ufn</code> too, in the default way &#40;as called from C&#41; or a more Julian way. This would become too long to explain now, so I&#39;ll make a post in a few days &#40;or months&#41;. If you need it, please contact me.</p> <p>This concludes the new installation of CUTEst.</p> <p><strong>Warning</strong>: Due to current limitations we cannot open two problems at the same time in CUTEst without the possibility of a segmentation fault. So, if you need to run cutest for a list of problems, I suggest you use a bash script to loop over each problem and call your Julia code passing the problem as an input argument.</p> <p>Ths embedded Asciinema video is below.</p> <p>&lt;script type&#61;&quot;text/javascript&quot; src&#61;&quot;https://asciinema.org/a/27127.js&quot; id&#61;&quot;asciicast-27127&quot; async&gt;&lt;/script&gt;</p> </div> </div> </div> </div> <footer> <div class="container text-center social-footer"> <a href="mailto:abel.s.siqueira@gmail.com"> <i class="fas fa-2x fa-envelope" aria-hidden=true ></i> </a><a href="https://github.com/abelsiqueira"> <i class="fab fa-2x fa-github-square" aria-hidden=true ></i> </a><a href="https://linkedin.com/in/abel-siqueira/"> <i class="fab fa-2x fa-linkedin" aria-hidden=true ></i> </a><a href="https://twitter.com/abel_siqueira"> <i class="fab fa-2x fa-twitter-square" aria-hidden=true ></i> </a><a href="https://www.researchgate.net/profile/Abel_Siqueira"> <i class="fab fa-2x fa-researchgate" aria-hidden=true ></i> </a><a href="http://orcid.org/0000-0003-4451-281X"> <i class="fab fa-2x fa-orcid" aria-hidden=true ></i> </a> </div> </footer> <script src="/blog/libs/bootstrap.bundle.min.js" crossorigin=anonymous ></script> <script src="https://kit.fontawesome.com/d17d5e5245.js" crossorigin=anonymous ></script> <script type="text/javascript" src="https://cdn.rawgit.com/pcooksey/bibtex-js/ef59e62c/src/bibtex_js.js"></script>